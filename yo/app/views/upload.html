
<div class="modal-content">
    <div class="modal-header">
        <h3 class="modal-title" translate="UPLOAD.TITLE"></h3>
    </div>
    <div class="modal-body">
        <div class="form-group" ng-if="!uploadController.datasetId">
            <label class="control-label">Dataset name</label>
            <input type="text" class="form-control" ng-model="uploadController.name">
        </div>
        <div class="form-group">
            <label class="control-label">Files</label>
            <div upload-area ng-model="uploadController.files" take-up-remaining-height></div>
        </div>
        <div class="modal-footer">
            <div class="text-right">
                <b>Total size:</b> {{uploadController.totalFileSize() | bytes}}
                <span ng-if="uploadController.maxTotalFileSize !== undefined">
                    ({{uploadController.maxTotalFileSize | bytes}} max)
                    <span 
                        class="label label-danger"
                        ng-if="uploadController.totalFileSize() > uploadController.maxTotalFileSize">
                            You have exceeded the upload limit of {{uploadController.maxTotalFileSize | bytes}} - please remove some files
                    </span>
                </span>
            </div>
            <br>
            <div>
                <span ng-if="uploadController.isUploading" class="loading collapsed"></span>
                <button
                    type="submit"
                    class="btn btn-primary"
                    ng-click="uploadController.upload()"
                    translate="UPLOAD.BUTTON.UPLOAD.TEXT"
                    ng-disabled="(!uploadController.datasetId && uploadController.name == '')  || uploadController.files.length == 0 || uploadController.isUploading || (uploadController.maxTotalFileSize !== undefined && uploadController.totalFileSize() > uploadController.maxTotalFileSize)"
                    ></button>

                <button class="btn btn-warning" ng-click="uploadController.cancel()" translate="UPLOAD.BUTTON.CANCEL.TEXT" ng-disabled="uploadController.isUploading"></button>
            </div>
        </div>
    </div>
</div>

