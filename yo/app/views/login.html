<h1>{{'LOGIN.PAGE_TITLE' | translate}}</h1>

<div class="row">
    <div class="col-md-4 col-md-offset-4">
        <div ng-if="! vm.isLoggedInAll()">
            <form novalidate name="vm.form">
                <fieldset>
                    <div class="form-group" ng-hide="vm.isSingleFacility()">
                        <label class="control-label" for="server">{{'LOGIN.FACILITY' | translate}}</label>
                        <select id="facilityName" name="facilityName" class="form-control" ng-model="vm.user.facilityName" ng-options="facility.keyName as facility.title for facility in vm.facilities" ng-init="vm.user.facilityName = vm.facilities[0].keyName" ng-change="vm.updateAuthenticationTypes(vm.user.facilityName)" required>
                        </select>
                    </div>
                    <div class="form-group" ng-hide="vm.isSingleAuthenticationType()">
                        <label class="control-label" for="plugin">{{'LOGIN.AUTHENTICATION_TYPE' | translate}} </label>
                        <select id="plugin" name="plugin" class="form-control" ng-model="vm.user.plugin" ng-options="authenticationType.plugin as authenticationType.title for authenticationType in vm.getAuthenticationTypes(vm.user.facilityName)" ng-init="vm.user.plugin = vm.getAuthenticationTypes(vm.user.facilityName)[0].plugin" required>
                        </select>
                    </div>
                    <div class="form-group" ng-if="!vm.isAnonymous()">
                        <label class="control-label" for="username">{{'LOGIN.USERNAME' | translate}}</label>
                        <input id="username" name="username" placeholder="{{'LOGIN.USERNAME' | translate}}" class="form-control" type="text" ng-model="vm.user.username" required>
                    </div>
                    <div class="form-group" ng-if="!vm.isAnonymous()">
                        <label class="control-label" for="password">{{'LOGIN.PASSWORD' | translate}}</label>
                        <input id="password" name="password" placeholder="{{'LOGIN.PASSWORD' | translate}}" class="form-control" type="password" ng-model="vm.user.password" required>
                    </div>
                    <div class="form-group">
                        <button type="submit" id="login" class="btn btn-primary" ng-click="vm.login(vm.form)" ng-disabled="vm.form.$invalid">{{'LOGIN.LOGIN_BUTTON' | translate}}</button>
                    </div>
                </fieldset>
            </form>
        </div>
        <div ng-if="vm.isLoggedInAll()">
            <div class="well well-lg">{{'LOGIN.INFO.NO_MORE_FACILITIES' | translate}}</div>
        </div>
    </div>
</div>
